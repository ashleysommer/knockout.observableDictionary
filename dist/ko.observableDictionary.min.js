/*
 * Knockout Observable Dictionary
 * (c) James Foster
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 * 2014-06-20
 */
function isNumeric(a){return!isNaN(parseFloat(a))&&isFinite(a)}function defaultComparison(a,b){return isNumeric(a)&&isNumeric(b)?a-b:(a=a.toString(),b=b.toString(),a==b?0:b>a?-1:1)}!function(){function a(a,b,c){var d=new ko.observable(a);this.value=new ko.observable(b),this.key=new ko.computed({read:d,write:function(a){var b=d();b!=a&&(c.remove(a),d(a))}})}function b(a,b){var c=ko.utils.arrayFirst(b,function(b){return b.key()==a});return c?c.value:null}ko.observableDictionary=function(a,b,c){var d={};return d.items=new ko.observableArray,d._wrappers={},d._keySelector=b||function(a,b){return b},d._valueSelector=c||function(a){return a},"string"==typeof b&&(d._keySelector=function(a){return a[b]}),"string"==typeof c&&(d._valueSelector=function(a){return a[c]}),ko.utils.extend(d,ko.observableDictionary.fn),d.pushAll(a),d},ko.observableDictionary.fn={remove:function(b){var c=b;b instanceof a?c=function(a){return a.key()===b.key()}:"function"!=typeof b&&(c=function(a){return a.key()===b}),ko.observableArray.fn.remove.call(this.items,c)},push:function(b,c){var d=null;b instanceof a&&(d=b,c=b.value(),b=b.key()),void 0===c?(c=this._valueSelector(b),b=this._keySelector(c)):c=this._valueSelector(c);var e=this.get(b,!1);return e?(e(c),e):(d||(d=new a(b,c,this)),ko.observableArray.fn.push.call(this.items,d),c)},pushAll:function(b){var c=this,d=c.items();if(b instanceof Array)$.each(b,function(b,e){var f=c._keySelector(e,b),g=c._valueSelector(e);d.push(new a(f,g,c))});else for(var e in b)if(b.hasOwnProperty(e)){var f=b[e],g=c._keySelector(f,e),h=c._valueSelector(f);d.push(new a(g,h,c))}c.items.valueHasMutated()},sort:function(a){return void 0===a&&(a=function(a,b){return defaultComparison(a.key(),b.key())}),ko.observableArray.fn.sort.call(this.items,a)},indexOf:function(b){if(b instanceof a)return ko.observableArray.fn.indexOf.call(this.items,b);for(var c=this.items(),d=0;d<c.length;d++)if(c[d].key()==b)return d;return-1},get:function(a,c){if(0==c)return b(a,this.items());var d=this._wrappers[a];return null==d&&(d=this._wrappers[a]=new ko.computed({read:function(){var c=b(a,this.items());return c?c():null},write:function(c){var d=b(a,this.items());d?d(c):this.push(a,c)}},this)),d},set:function(a,b){return this.push(a,b)},keys:function(){return ko.utils.arrayMap(this.items(),function(a){return a.key()})},values:function(){return ko.utils.arrayMap(this.items(),function(a){return a.value()})},removeAll:function(){this.items.removeAll()},toJSON:function(){var a={},b=ko.utils.unwrapObservable(this.items);return ko.utils.arrayForEach(b,function(b){var c=ko.utils.unwrapObservable(b.key),d=ko.utils.unwrapObservable(b.value);a[c]=d}),a}}}();
//# sourceMappingURL=ko.observableDictionary.min.js.map